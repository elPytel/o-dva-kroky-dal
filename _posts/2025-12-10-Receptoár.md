---
layout: post
title: "Receptoár"
description: Automatizovaný export receptů z Google Keep pro Jekyll blog
categories: ["jekyll", "recepty"]
---

Aktualizoval jsem způsob jakým se generují recepty pro Jekyll blog z Google Keep.
Stáhl jsem nový export z Google Takeout a upravil jsem skripty pro převod dat. 

# gkeepapi
Dříve jsem se snažil použít gkeepapi. Nepoužívají však pro přihlašování app-passwords, ale master-token, takže jsem tuto cestu nakonec opustil.
- [gkeepapi](https://github.com/kiwiz/gkeepapi)
- [gkeepapi documentation](https://gkeepapi.readthedocs.io/en/latest/)

# google takeout
Jako výrazně nejsnazší postup se ukázalo stáhnout exportovaná data z googlu jako zip. Lze pro to použít nástroj: [takeout.google.com](https://takeout.google.com), kde člověk vybere službu Google Keep a stáhněte data jako zip (odeslou se jak odkazu na email). Následně jsem připravil jednoduchý skript, který převede json soubory na jeden velký Json a zněj se následně generují markdown soubory s recepty.

Oba scripty jsou uloženy v repozitáři.

## Převod exportovaných dat z Google Keep do jednoho jsonu:
Převod exportovaných dat z Google Keep do jednoho jsonu:
```bash
python3 keep_to_simplenote.py
```
Script očekává soubory v sectě: `./dont_include/Keep/`.

## Json -> markdown
Převod velkého json soubor na markdown soubory s recepty provede script:
```bash
python3 json2recipe.py
```

Tento skrip jsem upravil tak, aby generoval soubory s názvem podle "title", který je očištěný od emotikonů a mezer. Takže jsou nyní rezepty na stránkách řazeny abecedně podle názvu receptu.

## Odkazy
- [Google Takeout](https://takeout.google.com/)
- [keep_to_simplenote.py](https://gist.github.com/echus/ce7cd43ec18edaad8105ca37349af41b#file-keep_to_simplenote-py)