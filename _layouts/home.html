---
layout: default
---

<div class="home">
    {%- if page.title -%}
    <h1 class="page-heading">{{ page.title }}</h1>
    {%- endif -%}

    {{ content }}

    {%- if site.posts.size > 0 -%}
    <h2 class="post-list-heading">{{ page.list_title | default: "Posts:" }}</h2>
    <ul class="post-list">
        {%- assign posts = paginator.posts | default: site.posts -%}
        {%- for post in posts -%}
        <li>
            {%- assign date_format = site.minima.date_format | default: "%b %-d, %Y" -%}
            {%- if post.thumbnail %}
            <div class="post-thumbnail">
                <img src="{{ post.thumbnail | relative_url }}" alt="Náhled">
            </div>
            {%- endif %}

            <span class="post-meta">{{ post.date | date: date_format }}</span>
            <h3>
                <a class="post-link" href="{{ post.url | relative_url }}">
                    {{ post.title | escape }}
                </a>
            </h3>

            {%- if post.description -%}
            <p class="post-description">{{ post.description }}</p>
            {%- endif -%}

            {%- if post.categories and post.categories.size > 0 -%}
            <p class="post-categories">
                Kategorie:
                {%- for cat in post.categories -%}
                {%- assign cat_slug = cat | slugify -%}
                <a href="{{ '/kategorie/' | append: cat_slug | relative_url }}">{{ cat }}</a>{% unless forloop.last %}, {%
                endunless %}

                {%- endfor -%}
            </p>
            {%- endif -%}

            {%- if site.show_excerpts -%}
            {{ post.excerpt }}
            {%- endif -%}
        </li>
        {%- endfor -%}
    </ul>

    {%- if paginator and paginator.total_pages > 1 -%}
    <nav class="pagination" role="navigation">
      {% if paginator.previous_page %}
        <a class="prev" href="{{ paginator.previous_page_path | relative_url }}">« Novější</a>
      {% endif %}

      {% for page_num in (1..paginator.total_pages) %}

        {% if page_num == paginator.page %}
          <span class="page-number current">{{ page_num }}</span>
        {% else %}
          {% if page_num == 1 %}
            <a class="page-number" href="{{ '/' | relative_url }}">{{ page_num }}</a>
          {% else %}
            {%- assign page_path = paginator.paginate_path | replace: ':num', page_num -%}
            <a class="page-number" href="{{ page_path | relative_url }}">{{ page_num }}</a>
          {% endif %}
        {% endif %}
      {% endfor %}

      {% if paginator.next_page %}
        <a class="next" href="{{ paginator.next_page_path | relative_url }}">Starší »</a>
      {% endif %}
    </nav>
    {%- endif -%}

    {%- endif -%}
    <br>

    <p class="rss-subscribe">subscribe <a href="{{ "/feed.xml" | relative_url }}">via RSS</a></p>

</div>